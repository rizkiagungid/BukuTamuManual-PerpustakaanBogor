/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2015
 * @version 1.3.1
 *
 * Client validation extension for the yii2-field-range extension
 * 
 * Author: Kartik Visweswaran
 * Copyright: 2015, Kartik Visweswaran, Krajee.com
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */!function(r){"use strict";var t=function(r){return"[object Array]"===Object.prototype.toString.call(r)||"[object Object]"===Object.prototype.toString.call(r)},e=function(t,e){var o=this;o.$attrTo=r(t),o.$attrFrom=r("#"+e.attrFrom),o.$mainContainer=r("#"+e.container),o.$errorContainer=r("#"+e.errorContainer),o.$errorBlockFrom=o.$attrFrom.closest(".kv-container-from").find(".help-block"),o.$errorBlockTo=o.$attrTo.closest(".kv-container-to").find(".help-block"),o.$errorBlock=o.$errorContainer.find(".help-block"),o.$form=o.$attrFrom.closest("form"),o.errorToMsg="",o.init()};e.prototype={constructor:e,init:function(){var r=this;r.$errorBlockFrom.hide(),r.$errorBlockTo.hide(),r.$form.on("reset.yiiActiveForm",function(){setTimeout(function(){r.reset()},100)}),r.$form.on("afterValidate",function(t,e){var o=r.$attrFrom.attr("id"),s=r.$attrTo.attr("id");o in e&&r.validateAttribute(e[o],o,s),s in e&&r.validateAttribute(e[s],o,s)}),r.$form.on("afterValidateAttribute",function(t,e,o){var s=r.$attrFrom.attr("id"),a=r.$attrTo.attr("id");r.$errorBlock.html(""),r.$errorContainer.removeClass("has-success has-error"),(e.id===s||e.id===a)&&r.validateAttribute(o,s,a)})},validateAttribute:function(e,o,s){var a=this,n=e.length,i="";t(e)&&n?i=1===n?e[0]:e.join("</li><li>"):n>0&&(i=e),i?(a.$errorBlock.html(i),a.$errorContainer.addClass("has-error")):a.$errorContainer.addClass("has-success"),e&&e.length?(r("#"+o).closest(".has-success").removeClass("has-success").addClass("has-error"),r("#"+s).closest(".has-success").removeClass("has-success").addClass("has-error")):(r("#"+o).closest(".has-error").removeClass("has-error").addClass("has-success"),r("#"+s).closest(".has-error").removeClass("has-error").addClass("has-success"))},reset:function(){var r=this;r.$errorBlock.html(""),r.$errorContainer.removeClass("has-success has-error"),r.$mainContainer.removeClass("has-success has-error")}},r.fn.kvFieldRange=function(t){var o=Array.apply(null,arguments);return o.shift(),this.each(function(){var s=r(this),a=s.data("kvFieldRange"),n="object"==typeof t&&t;a||(a=new e(this,r.extend({},n,r(this).data())),s.data("kvFieldRange",a)),"string"==typeof t&&a[t].apply(a,o)})},r.fn.kvFieldRange.Constructor=e}(window.jQuery);